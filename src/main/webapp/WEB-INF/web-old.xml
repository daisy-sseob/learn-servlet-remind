<!DOCTYPE web-app PUBLIC
 "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
 "http://java.sun.com/dtd/web-app_2_3.dtd" >

<web-app>
  <display-name>Archetype Created Web Application</display-name>
  
  <!-- context parameter는 filter보다 먼저 등록이 되어야함 -->
  <context-param>
    <param-name>contextClass</param-name>
    <param-value>org.springframework.web.context.support.AnnotationConfigWebApplicationContext</param-value>
  </context-param>
  
  <context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>me.sseob.Appconfig</param-value>
  </context-param>
  
  <filter>
    <filter-name>myFilter</filter-name>
    <filter-class>me.sseob.MyFilter</filter-class>
  </filter>
  
  <filter-mapping>
    <filter-name>myFilter</filter-name>
    <servlet-name>hello</servlet-name>
  </filter-mapping>
  
<!--  servlet context listener 를 spring 에서 제공하는 ContextLoaderListener 로 변경해보자-->
<!--  <listener>-->
<!--    <listener-class>me.sseob.MyListener</listener-class>-->
<!--  </listener>-->
  
  <!--
      ContextLoaderListener
      application context를 web application에 등록되어있는 servlet들이 사용할 수 있도록 
      application context를 servlet context의 life cycle에 맞춰서  servlet context에 등록시켜준다.
      servlet context가 종료될 시점에 application context를 종료시켜준다.
      
      application context를 연동해주는 class이다.
      application context를 만들어야 동작한다. application context를 만들어야 한다는것은 spring을 설정해야 된다는 뜻 !
   -->
  <listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
  </listener>
  
  <servlet>
    <servlet-name>hello</servlet-name>
    <servlet-class>me.sseob.HelloServlet</servlet-class>
  </servlet>
  
  <servlet-mapping>
    <servlet-name>hello</servlet-name>
    <url-pattern>/hello</url-pattern>
  </servlet-mapping>
</web-app>
